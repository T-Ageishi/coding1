<link rel="stylesheet" href="./../src/index.css" />
<script>
  (function () {
    //ボタンで通常表示とダークモードを切り替えたときの調整
    window.parent.document.addEventListener(
      "click",
      (e) => {
        const button = e.target.closest("button");
        if (!button) return;

        const id = button.getAttribute("id");
        const canvasBody = document.querySelector("body");
        if (id === "list-item-light") {
          canvasBody.classList.add("light");
          canvasBody.classList.remove("dark");
        } else if (id === "list-item-dark") {
          canvasBody.classList.remove("light");
          canvasBody.classList.add("dark");
        }
      },
      true
    );

    //iframeがリロードされたときの調整
    document.addEventListener("DOMContentLoaded", () => {
      setTimeout(() => {
        const canvasBody = document.querySelector("body");
        if (
          getComputedStyle(canvasBody).getPropertyValue("background-color") ===
          "rgba(0, 0, 0, 0)"
        ) {
          canvasBody.classList.remove("light");
          canvasBody.classList.add("dark");
        } else {
          canvasBody.classList.add("light");
          canvasBody.classList.remove("dark");
        }
        document.getElementById("storybook-root").style.height = "100%";
      }, 1000);
    });
  })();
</script>
